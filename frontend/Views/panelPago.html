<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/frontend/Css/panelPago.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <title>TELEINCA | Pagos</title>
</head>

<body>
    <div class="container text-center bg-success rounded-pill text-white py-1 my-2">
        <p class="display-5" style="font-size: 35px;">Panel de pago</p>
        <p class="display-6" style="font-size: 30px;">Escoge el metodo de pago:</p>
    </div>
    <div class="container-pago container">
        <div class="text-white rounded p-4 text-center m-1" style="background-color: #62167A;">
            <p class="display-6">Transferencia por Yape:</p>
            <img src="/frontend/Resources/Images/pagos_icon/yape_qr.jpg" alt="">
            <p>Realize el pago a nuestro numero de cuenta, luego ingrese el numero de transaccion y procese el pago</p>
            <div class="input-group">
                <span class="input-group-text border-0"><i class="bi bi-wallet2"></i></span>
                <input class="form-control border-0 input_field" placeholder="Número de transacción" type="text"
                    name="nmr_process" id="nmr_process_yape" required>
            </div>
            <div onclick="procesarPagoYape()" id="nmr_process_yape" class="m-auto border-0 cont-btn mt-4">
                <div class="left-side-yape">
                    <div id="card">
                        <div class="card-line-yape"></div>
                        <div class="buttons"></div>
                    </div>
                    <div class="post">
                        <div class="post-line"></div>
                        <div class="screen">
                            <div class="dollar">S/.</div>
                        </div>
                        <div class="numbers"></div>
                        <div class="numbers-line2"></div>
                    </div>
                </div>
                <div class="right-side">
                    <div class="new border-0 text-black">Yape</div>
                    <svg viewBox="0 0 451.846 451.847" height="512" width="512" xmlns="http://www.w3.org/2000/svg"
                        class="arrow">
                        <path fill="#cfcfcf" data-old_color="#000000" class="active-path" data-original="#000000"
                            d="M345.441 248.292L151.154 442.573c-12.359 12.365-32.397 12.365-44.75 0-12.354-12.354-12.354-32.391 0-44.744L278.318 225.92 106.409 54.017c-12.354-12.359-12.354-32.394 0-44.748 12.354-12.359 32.391-12.359 44.75 0l194.287 194.284c6.177 6.18 9.262 14.271 9.262 22.366 0 8.099-3.091 16.196-9.267 22.373z">
                        </path>
                    </svg>
                </div>
            </div>
        </div>
        <div class="text-white rounded p-4 text-center m-1" style="background-color: #072146;">
            <p class="display-6">Pago con deposito a BBVA:</p>
            <img src="/frontend/Resources/Images/pagos_icon/BBVA.jpg" alt="">
            <p>Realize el pago a nuestro numero de cuenta, luego ingrese el numero de transaccion y procese el pago</p>
            <div class="input-group">
                <span class="input-group-text border-0"><i class="bi bi-wallet2"></i></span>
                <input class="form-control border-0 input_field" placeholder="Número de transacción" type="text"
                    name="nmr_process" id="nmr_process_bbva" required>
            </div>
            <div onclick="procesarPagoBbva()" id="container" class="m-auto border-0 mt-4 cont-btn">
                <div class="left-side-bbva">
                    <div id="card">
                        <div class="card-line-bbva"></div>
                        <div class="buttons"></div>
                    </div>
                    <div class="post">
                        <div class="post-line"></div>
                        <div class="screen">
                            <div class="dollar">S/.</div>
                        </div>
                        <div class="numbers"></div>
                        <div class="numbers-line2"></div>
                    </div>
                </div>
                <div class="right-side">
                    <div class="new border-0 text-black">BBVA</div>
                    <svg viewBox="0 0 451.846 451.847" height="512" width="512" xmlns="http://www.w3.org/2000/svg"
                        class="arrow">
                        <path fill="#cfcfcf" data-old_color="#000000" class="active-path" data-original="#000000"
                            d="M345.441 248.292L151.154 442.573c-12.359 12.365-32.397 12.365-44.75 0-12.354-12.354-12.354-32.391 0-44.744L278.318 225.92 106.409 54.017c-12.354-12.359-12.354-32.394 0-44.748 12.354-12.359 32.391-12.359 44.75 0l194.287 194.284c6.177 6.18 9.262 14.271 9.262 22.366 0 8.099-3.091 16.196-9.267 22.373z">
                        </path>
                    </svg>
                </div>
            </div>
        </div>
        <div class="text-white rounded p-4 text-center m-1" style="background-color: #012D74;">
            <p class="display-6">Pago con deposito a BCP:</p>
            <img src="/frontend/Resources/Images/pagos_icon/bcp.png" alt="">
            <p>Realize el pago a nuestro numero de cuenta, luego ingrese el numero de transaccion y procese el pago</p>
            <div class="input-group">
                <span class="input-group-text border-0"><i class="bi bi-wallet2"></i></span>
                <input class="form-control border-0 input_field" placeholder="Número de transacción" type="text"
                    name="nmr_process" id="nmr_process_bcp" required>
            </div>
            <div onclick="procesarPagoBcp()" id="container" class="m-auto border-0 mt-4 cont-btn">
                <div class="left-side-bcp">
                    <div id="card">
                        <div class="card-line-bcp"></div>
                        <div class="buttons"></div>
                    </div>
                    <div class="post">
                        <div class="post-line"></div>
                        <div class="screen">
                            <div class="dollar">S/.</div>
                        </div>
                        <div class="numbers"></div>
                        <div class="numbers-line2"></div>
                    </div>
                </div>
                <div class="right-side">
                    <div class="new border-0 text-black">BCP</div>
                    <svg viewBox="0 0 451.846 451.847" height="512" width="512" xmlns="http://www.w3.org/2000/svg"
                        class="arrow">
                        <path fill="#cfcfcf" data-old_color="#000000" class="active-path" data-original="#000000"
                            d="M345.441 248.292L151.154 442.573c-12.359 12.365-32.397 12.365-44.75 0-12.354-12.354-12.354-32.391 0-44.744L278.318 225.92 106.409 54.017c-12.354-12.359-12.354-32.394 0-44.748 12.354-12.359 32.391-12.359 44.75 0l194.287 194.284c6.177 6.18 9.262 14.271 9.262 22.366 0 8.099-3.091 16.196-9.267 22.373z">
                        </path>
                    </svg>
                </div>
            </div>
        </div>
    </div>
    <div class="bg-success text-white p-2 my-2" style="border-radius: .5em;">
        <h1 class="display-6 text-center" style="font-size: 30px;">Una vez procesado el pago, espere su boleta/factura electronica por WhatsApp y en las proximas horas
            su deuda ya no se mostrara en sus recibos pendientes</h1>
        <a href="/frontend/Views/panelUser.html" class="btn btn-success">Volver</a>
    </div>
    </div>
    </div>

    <script>
        const codigoRecibo = localStorage.getItem('codigoRecibo');
        if (codigoRecibo) {
            console.log("Código del recibo: ", codigoRecibo);
        } else {
            console.log("No se encontró el código del recibo en localStorage");
        }
        document.addEventListener('DOMContentLoaded', () => {
            // Recuperar el código de usuario desde sessionStorage
            const codigoUsuario = sessionStorage.getItem('codigoUsuario');

            if (codigoUsuario) {
                // Mostrar el código en un elemento HTML con id 'codigoUsuario'
                const codigoUsuarioElemento = document.getElementById('codigoUsuario');
                if (codigoUsuarioElemento) {
                    codigoUsuarioElemento.textContent = codigoUsuario;
                }
                console.log("Código del usuario: ", codigoUsuario);
            } else {
                console.log("No se encontró el código de usuario.");
            }
        });
        function procesarPagoYape() {
            const codigoUsuario = sessionStorage.getItem('codigoUsuario');
            const nmr_process = document.getElementById('nmr_process_yape').value;
            if (nmr_process == '') {
                alert('Por favor, ingresa el número de transacción.');
            } else {
                console.log("Numero de transaccion: ", nmr_process);
                console.log("Procesando pago con Yape");
                const text = `
                *SOLICITUD DE PAGO*
                Numero de deuda:${codigoRecibo}
                Codigo de abonado: ${codigoUsuario}
                Numero de Operacion DE YAPE: ${nmr_process}
                Quedo pendiente al recibo electronico, Gracias!
                `;
                const mensaje = encodeURIComponent(text);
                const numeroWhatsApp = '+51903075166';
                const urlWhatsApp = `https://wa.me/${numeroWhatsApp}?text=${mensaje}`;
                window.open(urlWhatsApp, '_blank');
            }
        }
        function procesarPagoBbva() {
            const codigoUsuario = sessionStorage.getItem('codigoUsuario');
            const nmr_process = document.getElementById('nmr_process_bbva').value;
            if (nmr_process === '') {
                // Si está vacío, mostrar un mensaje de alerta
                alert('Por favor, ingresa el número de transacción.');
            } else {
                console.log("Numero de transaccion: ", nmr_process);
                console.log("Procesando pago con BBVA");
                const text = `
                *SOLICITUD DE PAGO*
                Numero de deuda:${codigoRecibo}
                Codigo de abonado: ${codigoUsuario}
                Numero de Transferencia DE BBVA: ${nmr_process}
                Quedo pendiente al recibo electronico, Gracias!
                `;
                const mensaje = encodeURIComponent(text);
                const numeroWhatsApp = '+51903075166';
                const urlWhatsApp = `https://wa.me/${numeroWhatsApp}?text=${mensaje}`;
                window.open(urlWhatsApp, '_blank');
            }
        }
        function procesarPagoBcp() {
            const codigoUsuario = sessionStorage.getItem('codigoUsuario');
            const nmr_process = document.getElementById('nmr_process_bcp').value;
            if (nmr_process === '') {
                // Si está vacío, mostrar un mensaje de alerta
                alert('Por favor, ingresa el número de transacción.');
            } else {
                console.log("Numero de transaccion: ", nmr_process);
                console.log("Procesando pago con BCP");
                const text = `
                *SOLICITUD DE PAGO*
                Numero de deuda:${codigoRecibo}
                Codigo de abonado: ${codigoUsuario}
                Numero de Transferencia DE BCP: ${nmr_process}
                Quedo pendiente al recibo electronico, Gracias!
                `;
                const mensaje = encodeURIComponent(text);
                const numeroWhatsApp = '+51903075166';
                const urlWhatsApp = `https://wa.me/${numeroWhatsApp}?text=${mensaje}`;
                window.open(urlWhatsApp, '_blank');
            }
        }

    </script>
</body>

</html>